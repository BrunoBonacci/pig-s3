apply plugin: 'groovy'

jar.archiveName = "pig-s3.jar"
sourceCompatibility = 1.6

repositories {
    mavenCentral()
}

dependencies {
    compile 'org.codehaus.groovy:groovy-all:2.1.3'
    compile 'org.apache.pig:pig:0.11.1'
    compile 'org.apache.hadoop:hadoop-core:1.0.3'
    compile 'net.java.dev.jets3t:jets3t:0.9.0'
}

// Building a fatjar with dependencies, excluding hadoop and pig as provided by
// the execution environemnt
jar {
    from { configurations.compile.findAll{ !it.name.contains('pig') && !it.name.contains('hadoop') }.collect { it.isDirectory() ? it : zipTree(it) } }
}

task wrapper(type: Wrapper) {
    gradleVersion = '1.6'
}
